</html>
<head>
<script>
let loadedChamber = null; // Variable pour stocker le numéro de la chambre chargée
let redCirclesCount = 0; 
let gamePlayed = false;
    
function lancer() {
    if (redCirclesCount === 0) {alert("Vous devez sélectionner des cercles rouges avant de jouer !");return;}
    if (gamePlayed) {alert("Vous devez réinitialiser le jeu avant de jouer à nouveau !");return;}
    loadedChamber = Math.ceil(Math.random() * 6);
    alert("Le barillet tourne... Chambre chargée : " + loadedChamber);
    console.log("Chambre chargée :", loadedChamber);
    if(document.getElementById("Br" + loadedChamber).style.fill=="red") {document.getElementById("Br" + loadedChamber).style.fill="blue"; alert("Perdu");}
    else if (redCirclesCount == 1) {alert("Vous gagnez 10.000€");}
    else if (redCirclesCount == 2) {alert("Vous gagnez 100.000€");}
    else if (redCirclesCount == 3) {alert("Vous gagnez 1.000.000€");}
    else{document.getElementById("Br" + loadedChamber).style.fill="blue";}
    gamePlayed = true;
}


function chambre(number){
          circle = document.getElementById("Br" + number);
          if (circle.style.fill === "red") {
          circle.style.fill = "gray";
          redCirclesCount--;
            } else if (redCirclesCount < 3) {
          circle.style.fill = "red";
          redCirclesCount++;
            } else {
          alert("Vous ne pouvez sélectionner que 3 cercles rouges au maximum.");}
}

function reset() {
    for (let i = 1; i <= 6; i++) {
        document.getElementById("Br" + i).style.fill = "gray";
    }
    document.getElementById("Br" + loadedChamber).style.fill = "gray";
    redCirclesCount = 0;
    loadedChamber = null;
    gamePlayed = false;
    console.log("Réinitialisation complète.");

}

</script>


</head>
<body>
<h1>Roulette Russe</h1>

<svg width=200 height=200 style="background-color:antiquewhite">
<circle cx="100" cy="100" r="95" stroke="black" stroke-width="3" fill="none"/>
<circle id="Br1" cx="100" cy="40" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(1)"/>
<circle id="Br2" cx="150" cy="70" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(2)"/>
<circle id="Br3" cx="50" cy="70" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(3)"/>
<circle id="Br4" cx="50" cy="130" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(4)"/>
<circle id="Br5" cx="150" cy="130" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(5)"/>
<circle id="Br6" cx="100" cy="160" r="25" stroke="black" stroke-width="3" fill="gray" onclick="chambre(6)"/>
<circle cx="100" cy="100" r="10" stroke="black" stroke-width="3" fill="black" />
</svg>

<button onclick="lancer()">Jouer</button>
<button onclick="reset()">Reset</button>

</body>
</html>
